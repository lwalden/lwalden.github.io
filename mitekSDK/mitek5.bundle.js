(this.webpackJsonpmitekScienceSDK=this.webpackJsonpmitekScienceSDK||[]).push([[4],{157:function(t,r){},160:function(t,r){},178:function(t,r){},179:function(t,r){},188:function(t,r){var e;(e=window).tracking=e.tracking||{},tracking.inherits=function(t,r){function e(){}e.prototype=r.prototype,t.superClass_=r.prototype,t.prototype=new e,t.prototype.constructor=t,t.base=function(t,e){var n=Array.prototype.slice.call(arguments,2);return r.prototype[e].apply(t,n)}},tracking.initUserMedia_=function(t,r){e.navigator.mediaDevices.getUserMedia({video:!0,audio:!(!r||!r.audio)}).then(function(r){t.srcObject=r}).catch(function(t){throw Error("Cannot capture user camera.")})},tracking.isNode=function(t){return t.nodeType||this.isWindow(t)},tracking.isWindow=function(t){return!!(t&&t.alert&&t.document)},tracking.one=function(t,r){return this.isNode(t)?t:(r||document).querySelector(t)},tracking.track=function(t,r,e){if(!(t=tracking.one(t)))throw new Error("Element not found, try a different element or selector.");if(!r)throw new Error("Tracker not specified, try `tracking.track(element, new tracking.FaceTracker())`.");switch(t.nodeName.toLowerCase()){case"canvas":return this.trackCanvas_(t,r,e);case"img":return this.trackImg_(t,r,e);case"video":return e&&e.camera&&this.initUserMedia_(t,e),this.trackVideo_(t,r,e);default:throw new Error("Element not supported, try in a canvas, img, or video.")}},tracking.trackCanvas_=function(t,r){var e=this,n=new tracking.TrackerTask(r);return n.on("run",function(){e.trackCanvasInternal_(t,r)}),n.run()},tracking.trackCanvasInternal_=function(t,r){var e=t.width,n=t.height,a=t.getContext("2d").getImageData(0,0,e,n);r.track(a.data,e,n)},tracking.trackImg_=function(t,r){var e=t.width,n=t.height,a=document.createElement("canvas");a.width=e,a.height=n;var i=new tracking.TrackerTask(r);return i.on("run",function(){tracking.Canvas.loadImage(a,t.src,0,0,e,n,function(){tracking.trackCanvasInternal_(a,r)})}),i.run()},tracking.trackVideo_=function(t,r){var n,a,i=document.createElement("canvas"),o=i.getContext("2d"),c=function(){n=t.offsetWidth,a=t.offsetHeight,i.width=n,i.height=a};c(),t.addEventListener("resize",c);var s,h=new tracking.TrackerTask(r);return h.on("stop",function(){e.cancelAnimationFrame(s)}),h.on("run",function(){!function c(){s=e.requestAnimationFrame(function(){if(t.readyState===t.HAVE_ENOUGH_DATA){try{o.drawImage(t,0,0,n,a)}catch(t){}tracking.trackCanvasInternal_(i,r)}c()})}()}),h.run()},e.URL||(e.URL=e.URL||e.webkitURL||e.msURL||e.oURL),navigator.getUserMedia||(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia),tracking.EventEmitter=function(){},tracking.EventEmitter.prototype.events_=null,tracking.EventEmitter.prototype.addListener=function(t,r){if("function"!=typeof r)throw new TypeError("Listener must be a function");return this.events_||(this.events_={}),this.emit("newListener",t,r),this.events_[t]||(this.events_[t]=[]),this.events_[t].push(r),this},tracking.EventEmitter.prototype.listeners=function(t){return this.events_&&this.events_[t]},tracking.EventEmitter.prototype.emit=function(t){var r=this.listeners(t);if(r){for(var e=Array.prototype.slice.call(arguments,1),n=0;n<r.length;n++)r[n]&&r[n].apply(this,e);return!0}return!1},tracking.EventEmitter.prototype.on=tracking.EventEmitter.prototype.addListener,tracking.EventEmitter.prototype.once=function(t,r){var e=this;e.on(t,function n(){e.removeListener(t,n),r.apply(this,arguments)})},tracking.EventEmitter.prototype.removeAllListeners=function(t){return this.events_?(t?delete this.events_[t]:delete this.events_,this):this},tracking.EventEmitter.prototype.removeListener=function(t,r){if("function"!=typeof r)throw new TypeError("Listener must be a function");if(!this.events_)return this;var e=this.listeners(t);if(Array.isArray(e)){var n=e.indexOf(r);if(n<0)return this;e.splice(n,1)}return this},tracking.EventEmitter.prototype.setMaxListeners=function(){throw new Error("Not implemented")},tracking.Canvas={},tracking.Canvas.loadImage=function(t,r,e,n,a,i,o){var c=this,s=new window.Image;s.crossOrigin="*",s.onload=function(){var r=t.getContext("2d");t.width=a,t.height=i,r.drawImage(s,e,n,a,i),o&&o.call(c),s=null},s.src=r},tracking.DisjointSet=function(t){if(void 0===t)throw new Error("DisjointSet length not specified.");this.length=t,this.parent=new Uint32Array(t);for(var r=0;r<t;r++)this.parent[r]=r},tracking.DisjointSet.prototype.length=null,tracking.DisjointSet.prototype.parent=null,tracking.DisjointSet.prototype.find=function(t){return this.parent[t]===t?t:this.parent[t]=this.find(this.parent[t])},tracking.DisjointSet.prototype.union=function(t,r){var e=this.find(t),n=this.find(r);this.parent[e]=n},tracking.Image={},tracking.Image.blur=function(t,r,e,n){if((n=Math.abs(n))<=1)throw new Error("Diameter should be greater than 1.");for(var a=n/2,i=Math.ceil(n)+(1-Math.ceil(n)%2),o=new Float32Array(i),c=(a+.5)/3,s=c*c,h=1/Math.sqrt(2*Math.PI*s),g=-1/(2*c*c),u=0,f=Math.floor(i/2),l=0;l<i;l++){var k=l-f,m=h*Math.exp(k*k*g);o[l]=m,u+=m}for(var d=0;d<o.length;d++)o[d]/=u;return this.separableConvolve(t,r,e,o,o,!1)},tracking.Image.computeIntegralImage=function(t,r,e,n,a,i,o){if(arguments.length<4)throw new Error("You should specify at least one output array in the order: sum, square, tilted, sobel.");var c;o&&(c=tracking.Image.sobel(t,r,e));for(var s=0;s<e;s++)for(var h=0;h<r;h++){var g=s*r*4+4*h,u=~~(.299*t[g]+.587*t[g+1]+.114*t[g+2]);if(n&&this.computePixelValueSAT_(n,r,s,h,u),a&&this.computePixelValueSAT_(a,r,s,h,u*u),i){var f=g-4*r,l=~~(.299*t[f]+.587*t[f+1]+.114*t[f+2]);this.computePixelValueRSAT_(i,r,s,h,u,l||0)}o&&this.computePixelValueSAT_(o,r,s,h,c[g])}},tracking.Image.computePixelValueRSAT_=function(t,r,e,n,a,i){var o=e*r+n;t[o]=(t[o-r-1]||0)+(t[o-r+1]||0)-(t[o-r-r]||0)+a+i},tracking.Image.computePixelValueSAT_=function(t,r,e,n,a){var i=e*r+n;t[i]=(t[i-r]||0)+(t[i-1]||0)+a-(t[i-r-1]||0)},tracking.Image.grayscale=function(t,r,e,n){for(var a=new Uint8ClampedArray(n?t.length:t.length>>2),i=0,o=0,c=0;c<e;c++)for(var s=0;s<r;s++){var h=.299*t[o]+.587*t[o+1]+.114*t[o+2];a[i++]=h,n&&(a[i++]=h,a[i++]=h,a[i++]=t[o+3]),o+=4}return a},tracking.Image.horizontalConvolve=function(t,r,e,n,a){for(var i=n.length,o=Math.floor(i/2),c=new Float32Array(r*e*4),s=a?1:0,h=0;h<e;h++)for(var g=0;g<r;g++){for(var u=h,f=g,l=4*(h*r+g),k=0,m=0,d=0,p=0,v=0;v<i;v++){var y=4*(u*r+Math.min(r-1,Math.max(0,f+v-o))),_=n[v];k+=t[y]*_,m+=t[y+1]*_,d+=t[y+2]*_,p+=t[y+3]*_}c[l]=k,c[l+1]=m,c[l+2]=d,c[l+3]=p+s*(255-p)}return c},tracking.Image.verticalConvolve=function(t,r,e,n,a){for(var i=n.length,o=Math.floor(i/2),c=new Float32Array(r*e*4),s=a?1:0,h=0;h<e;h++)for(var g=0;g<r;g++){for(var u=h,f=g,l=4*(h*r+g),k=0,m=0,d=0,p=0,v=0;v<i;v++){var y=4*(Math.min(e-1,Math.max(0,u+v-o))*r+f),_=n[v];k+=t[y]*_,m+=t[y+1]*_,d+=t[y+2]*_,p+=t[y+3]*_}c[l]=k,c[l+1]=m,c[l+2]=d,c[l+3]=p+s*(255-p)}return c},tracking.Image.separableConvolve=function(t,r,e,n,a,i){var o=this.verticalConvolve(t,r,e,a,i);return this.horizontalConvolve(o,r,e,n,i)},tracking.Image.sobel=function(t,r,e){t=this.grayscale(t,r,e,!0);for(var n=new Float32Array(r*e*4),a=new Float32Array([-1,0,1]),i=new Float32Array([1,2,1]),o=this.separableConvolve(t,r,e,a,i),c=this.separableConvolve(t,r,e,i,a),s=0;s<n.length;s+=4){var h=o[s],g=c[s],u=Math.sqrt(g*g+h*h);n[s]=u,n[s+1]=u,n[s+2]=u,n[s+3]=255}return n},tracking.Image.equalizeHist=function(t,r,e){for(var n=new Uint8ClampedArray(t.length),a=new Array(256),i=0;i<256;i++)a[i]=0;for(i=0;i<t.length;i++)n[i]=t[i],a[t[i]]++;var o=a[0];for(i=0;i<256;i++)a[i]+=o,o=a[i];var c=255/t.length;for(i=0;i<t.length;i++)n[i]=a[t[i]]*c+.5|0;return n},tracking.ViolaJones={},tracking.ViolaJones.REGIONS_OVERLAP=.5,tracking.ViolaJones.classifiers={},tracking.ViolaJones.detect=function(t,r,e,n,a,i,o,c){var s,h=0,g=[],u=new Int32Array(r*e),f=new Int32Array(r*e),l=new Int32Array(r*e);o>0&&(s=new Int32Array(r*e)),tracking.Image.computeIntegralImage(t,r,e,u,f,l,s);for(var k=c[0],m=c[1],d=n*a,p=d*k|0,v=d*m|0;p<r&&v<e;){for(var y=d*i+.5|0,_=0;_<e-v;_+=y)for(var w=0;w<r-p;w+=y)o>0&&this.isTriviallyExcluded(o,s,_,w,r,p,v)||this.evalStages_(c,u,f,l,_,w,r,p,v,d)&&(g[h++]={width:p,height:v,x:w,y:_});p=(d*=a)*k|0,v=d*m|0}return this.mergeRectangles_(g)},tracking.ViolaJones.isTriviallyExcluded=function(t,r,e,n,a,i,o){var c=e*a+n,s=c+i,h=c+o*a,g=h+i;return(r[c]-r[s]-r[h]+r[g])/(i*o*255)<t},tracking.ViolaJones.evalStages_=function(t,r,e,n,a,i,o,c,s,h){var g=1/(c*s),u=a*o+i,f=u+c,l=u+s*o,k=l+c,m=(r[u]-r[f]-r[l]+r[k])*g,d=(e[u]-e[f]-e[l]+e[k])*g-m*m,p=1;d>0&&(p=Math.sqrt(d));for(var v=t.length,y=2;y<v;){for(var _=0,w=t[y++],x=t[y++];x--;){for(var T=0,A=t[y++],E=t[y++],M=0;M<E;M++){var S,I,D,C,O=i+t[y++]*h+.5|0,N=a+t[y++]*h+.5|0,F=t[y++]*h+.5|0,b=t[y++]*h+.5|0,L=t[y++];A?(I=O+(N-1)*o,D=O-b+(N+b-1)*o,C=O+F+(N+F-1)*o,T+=(n[S=O-b+F+(N+F+b-1)*o]+n[I]-n[D]-n[C])*L):(I=(S=N*o+O)+F,C=(D=S+b*o)+F,T+=(r[S]-r[I]-r[D]+r[C])*L)}var R=t[y++],B=t[y++],P=t[y++];_+=T*g<R*p?B:P}if(_<w)return!1}return!0},tracking.ViolaJones.mergeRectangles_=function(t){for(var r=new tracking.DisjointSet(t.length),e=0;e<t.length;e++)for(var n=t[e],a=0;a<t.length;a++){var i=t[a];if(tracking.Math.intersectRect(n.x,n.y,n.x+n.width,n.y+n.height,i.x,i.y,i.x+i.width,i.y+i.height)){var o=Math.max(n.x,i.x),c=Math.max(n.y,i.y),s=(o-Math.min(n.x+n.width,i.x+i.width))*(c-Math.min(n.y+n.height,i.y+i.height)),h=n.width*n.height,g=i.width*i.height;s/(h*(h/g))>=this.REGIONS_OVERLAP&&s/(g*(h/g))>=this.REGIONS_OVERLAP&&r.union(e,a)}}for(var u={},f=0;f<r.length;f++){var l=r.find(f);u[l]?(u[l].total++,u[l].width+=t[f].width,u[l].height+=t[f].height,u[l].x+=t[f].x,u[l].y+=t[f].y):u[l]={total:1,width:t[f].width,height:t[f].height,x:t[f].x,y:t[f].y}}var k=[];return Object.keys(u).forEach(function(t){var r=u[t];k.push({total:r.total,width:r.width/r.total+.5|0,height:r.height/r.total+.5|0,x:r.x/r.total+.5|0,y:r.y/r.total+.5|0})}),k},tracking.Brief={},tracking.Brief.N=512,tracking.Brief.randomImageOffsets_={},tracking.Brief.randomWindowOffsets_=null,tracking.Brief.getDescriptors=function(t,r,e){for(var n=new Int32Array((e.length>>1)*(this.N>>5)),a=0,i=this.getRandomOffsets_(r),o=0,c=0;c<e.length;c+=2)for(var s=r*e[c+1]+e[c],h=0,g=0,u=this.N;g<u;g++)t[i[h++]+s]<t[i[h++]+s]&&(a|=1<<(31&g)),g+1&31||(n[o++]=a,a=0);return n},tracking.Brief.match=function(t,r,e,n){for(var a=t.length>>1,i=e.length>>1,o=new Array(a),c=0;c<a;c++){for(var s=1/0,h=0,g=0;g<i;g++){for(var u=0,f=0,l=this.N>>5;f<l;f++)u+=tracking.Math.hammingWeight(r[c*l+f]^n[g*l+f]);u<s&&(s=u,h=g)}o[c]={index1:c,index2:h,keypoint1:[t[2*c],t[2*c+1]],keypoint2:[e[2*h],e[2*h+1]],confidence:1-s/this.N}}return o},tracking.Brief.reciprocalMatch=function(t,r,e,n){var a=[];if(0===t.length||0===e.length)return a;for(var i=tracking.Brief.match(t,r,e,n),o=tracking.Brief.match(e,n,t,r),c=0;c<i.length;c++)o[i[c].index2].index2===c&&a.push(i[c]);return a},tracking.Brief.getRandomOffsets_=function(t){if(!this.randomWindowOffsets_){for(var r=0,e=new Int32Array(4*this.N),n=0;n<this.N;n++)e[r++]=Math.round(tracking.Math.uniformRandom(-15,16)),e[r++]=Math.round(tracking.Math.uniformRandom(-15,16)),e[r++]=Math.round(tracking.Math.uniformRandom(-15,16)),e[r++]=Math.round(tracking.Math.uniformRandom(-15,16));this.randomWindowOffsets_=e}if(!this.randomImageOffsets_[t]){for(var a=0,i=new Int32Array(2*this.N),o=0;o<this.N;o++)i[a++]=this.randomWindowOffsets_[4*o]*t+this.randomWindowOffsets_[4*o+1],i[a++]=this.randomWindowOffsets_[4*o+2]*t+this.randomWindowOffsets_[4*o+3];this.randomImageOffsets_[t]=i}return this.randomImageOffsets_[t]},tracking.Fast={},tracking.Fast.THRESHOLD=40,tracking.Fast.circles_={},tracking.Fast.findCorners=function(t,r,e,n){var a=this.getCircleOffsets_(r),i=new Int32Array(16),o=[];void 0===n&&(n=this.THRESHOLD);for(var c=3;c<e-3;c++)for(var s=3;s<r-3;s++){for(var h=c*r+s,g=t[h],u=0;u<16;u++)i[u]=t[h+a[u]];this.isCorner(g,i,n)&&(o.push(s,c),s+=3)}return o},tracking.Fast.isBrighter=function(t,r,e){return t-r>e},tracking.Fast.isCorner=function(t,r,e){if(this.isTriviallyExcluded(r,t,e))return!1;for(var n=0;n<16;n++){for(var a=!0,i=!0,o=0;o<9;o++){var c=r[n+o&15];if(!this.isBrighter(t,c,e)&&(i=!1,!1===a))break;if(!this.isDarker(t,c,e)&&(a=!1,!1===i))break}if(i||a)return!0}return!1},tracking.Fast.isDarker=function(t,r,e){return r-t>e},tracking.Fast.isTriviallyExcluded=function(t,r,e){var n=0,a=t[8],i=t[12],o=t[4],c=t[0];return this.isBrighter(c,r,e)&&n++,this.isBrighter(o,r,e)&&n++,this.isBrighter(a,r,e)&&n++,this.isBrighter(i,r,e)&&n++,n<3&&(n=0,this.isDarker(c,r,e)&&n++,this.isDarker(o,r,e)&&n++,this.isDarker(a,r,e)&&n++,this.isDarker(i,r,e)&&n++,n<3)},tracking.Fast.getCircleOffsets_=function(t){if(this.circles_[t])return this.circles_[t];var r=new Int32Array(16);return r[0]=-t-t-t,r[1]=r[0]+1,r[2]=r[1]+t+1,r[3]=r[2]+t+1,r[4]=r[3]+t,r[5]=r[4]+t,r[6]=r[5]+t-1,r[7]=r[6]+t-1,r[8]=r[7]-1,r[9]=r[8]-1,r[10]=r[9]-t-1,r[11]=r[10]-t-1,r[12]=r[11]-t,r[13]=r[12]-t,r[14]=r[13]-t+1,r[15]=r[14]-t+1,this.circles_[t]=r,r},tracking.Math={},tracking.Math.distance=function(t,r,e,n){var a=e-t,i=n-r;return Math.sqrt(a*a+i*i)},tracking.Math.hammingWeight=function(t){return 16843009*((t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135)>>24},tracking.Math.uniformRandom=function(t,r){return t+Math.random()*(r-t)},tracking.Math.intersectRect=function(t,r,e,n,a,i,o,c){return!(a>e||o<t||i>n||c<r)},tracking.Matrix={},tracking.Matrix.forEach=function(t,r,e,n,a){a=a||1;for(var i=0;i<e;i+=a)for(var o=0;o<r;o+=a){var c=i*r*4+4*o;n.call(this,t[c],t[c+1],t[c+2],t[c+3],c,i,o)}},tracking.Matrix.sub=function(t,r){for(var e=tracking.Matrix.clone(t),n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)e[n][a]-=r[n][a];return e},tracking.Matrix.add=function(t,r){for(var e=tracking.Matrix.clone(t),n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)e[n][a]+=r[n][a];return e},tracking.Matrix.clone=function(t,r,e){r=r||t[0].length,e=e||t.length;for(var n=new Array(e),a=e;a--;){n[a]=new Array(r);for(var i=r;i--;)n[a][i]=t[a][i]}return n},tracking.Matrix.mulScalar=function(t,r){for(var e=tracking.Matrix.clone(r),n=0;n<r.length;n++)for(var a=0;a<r[n].length;a++)e[n][a]*=t;return e},tracking.Matrix.transpose=function(t){for(var r=new Array(t[0].length),e=0;e<t[0].length;e++){r[e]=new Array(t.length);for(var n=0;n<t.length;n++)r[e][n]=t[n][e]}return r},tracking.Matrix.mul=function(t,r){for(var e=new Array(t.length),n=0;n<t.length;n++){e[n]=new Array(r[0].length);for(var a=0;a<r[0].length;a++){e[n][a]=0;for(var i=0;i<t[0].length;i++)e[n][a]+=t[n][i]*r[i][a]}}return e},tracking.Matrix.norm=function(t){for(var r=0,e=0;e<t.length;e++)for(var n=0;n<t[e].length;n++)r+=t[e][n]*t[e][n];return Math.sqrt(r)},tracking.Matrix.calcCovarMatrix=function(t){for(var r=new Array(t.length),e=0;e<t.length;e++){r[e]=[0];for(var n=0;n<t[e].length;n++)r[e][0]+=t[e][n]/t[e].length}var a=tracking.Matrix.clone(r);for(e=0;e<a.length;e++)for(n=0;n<t[0].length-1;n++)a[e].push(a[e][0]);var i=tracking.Matrix.sub(t,a),o=tracking.Matrix.transpose(i);return[tracking.Matrix.mul(o,i),r]},tracking.EPnP={},tracking.EPnP.solve=function(t,r,e){},tracking.Tracker=function(){tracking.Tracker.base(this,"constructor")},tracking.inherits(tracking.Tracker,tracking.EventEmitter),tracking.Tracker.prototype.track=function(){},tracking.TrackerTask=function(t){if(tracking.TrackerTask.base(this,"constructor"),!t)throw new Error("Tracker instance not specified.");this.setTracker(t)},tracking.inherits(tracking.TrackerTask,tracking.EventEmitter),tracking.TrackerTask.prototype.tracker_=null,tracking.TrackerTask.prototype.running_=!1,tracking.TrackerTask.prototype.getTracker=function(){return this.tracker_},tracking.TrackerTask.prototype.inRunning=function(){return this.running_},tracking.TrackerTask.prototype.setRunning=function(t){this.running_=t},tracking.TrackerTask.prototype.setTracker=function(t){this.tracker_=t},tracking.TrackerTask.prototype.run=function(){var t=this;if(!this.inRunning())return this.setRunning(!0),this.reemitTrackEvent_=function(r){t.emit("track",r)},this.tracker_.on("track",this.reemitTrackEvent_),this.emit("run"),this},tracking.TrackerTask.prototype.stop=function(){if(this.inRunning())return this.setRunning(!1),this.emit("stop"),this.tracker_.removeListener("track",this.reemitTrackEvent_),this},function(){tracking.ColorTracker=function(t){tracking.ColorTracker.base(this,"constructor"),"string"==typeof t&&(t=[t]),t&&(t.forEach(function(t){if(!tracking.ColorTracker.getColor(t))throw new Error('Color not valid, try `new tracking.ColorTracker("magenta")`.')}),this.setColors(t))},tracking.inherits(tracking.ColorTracker,tracking.Tracker),tracking.ColorTracker.knownColors_={},tracking.ColorTracker.neighbours_={},tracking.ColorTracker.registerColor=function(t,r){tracking.ColorTracker.knownColors_[t]=r},tracking.ColorTracker.getColor=function(t){return tracking.ColorTracker.knownColors_[t]},tracking.ColorTracker.prototype.colors=["magenta"],tracking.ColorTracker.prototype.minDimension=20,tracking.ColorTracker.prototype.maxDimension=1/0,tracking.ColorTracker.prototype.minGroupSize=30,tracking.ColorTracker.prototype.calculateDimensions_=function(t,r){for(var e=-1,n=-1,a=1/0,i=1/0,o=0;o<r;o+=2){var c=t[o],s=t[o+1];c<a&&(a=c),c>e&&(e=c),s<i&&(i=s),s>n&&(n=s)}return{width:e-a,height:n-i,x:a,y:i}},tracking.ColorTracker.prototype.getColors=function(){return this.colors},tracking.ColorTracker.prototype.getMinDimension=function(){return this.minDimension},tracking.ColorTracker.prototype.getMaxDimension=function(){return this.maxDimension},tracking.ColorTracker.prototype.getMinGroupSize=function(){return this.minGroupSize},tracking.ColorTracker.prototype.getNeighboursForWidth_=function(t){if(tracking.ColorTracker.neighbours_[t])return tracking.ColorTracker.neighbours_[t];var r=new Int32Array(8);return r[0]=4*-t,r[1]=4*-t+4,r[2]=4,r[3]=4*t+4,r[4]=4*t,r[5]=4*t-4,r[6]=-4,r[7]=4*-t-4,tracking.ColorTracker.neighbours_[t]=r,r},tracking.ColorTracker.prototype.mergeRectangles_=function(t){for(var r,e=[],n=this.getMinDimension(),a=this.getMaxDimension(),i=0;i<t.length;i++){var o=t[i];r=!0;for(var c=i+1;c<t.length;c++){var s=t[c];if(tracking.Math.intersectRect(o.x,o.y,o.x+o.width,o.y+o.height,s.x,s.y,s.x+s.width,s.y+s.height)){r=!1;var h=Math.min(o.x,s.x),g=Math.min(o.y,s.y),u=Math.max(o.x+o.width,s.x+s.width),f=Math.max(o.y+o.height,s.y+s.height);s.height=f-g,s.width=u-h,s.x=h,s.y=g;break}}r&&o.width>=n&&o.height>=n&&o.width<=a&&o.height<=a&&e.push(o)}return e},tracking.ColorTracker.prototype.setColors=function(t){this.colors=t},tracking.ColorTracker.prototype.setMinDimension=function(t){this.minDimension=t},tracking.ColorTracker.prototype.setMaxDimension=function(t){this.maxDimension=t},tracking.ColorTracker.prototype.setMinGroupSize=function(t){this.minGroupSize=t},tracking.ColorTracker.prototype.track=function(t,r,e){var n=this,a=this.getColors();if(!a)throw new Error('Colors not specified, try `new tracking.ColorTracker("magenta")`.');var i=[];a.forEach(function(a){i=i.concat(n.trackColor_(t,r,e,a))}),this.emit("track",{data:i})},tracking.ColorTracker.prototype.trackColor_=function(e,n,a,i){var o,c,s,h,g,u=tracking.ColorTracker.knownColors_[i],f=new Int32Array(e.length>>2),l=new Int8Array(e.length),k=this.getMinGroupSize(),m=this.getNeighboursForWidth_(n),d=new Int32Array(e.length),p=[],v=-4;if(!u)return p;for(var y=0;y<a;y++)for(var _=0;_<n;_++)if(!l[v+=4]){for(o=0,g=-1,d[++g]=v,d[++g]=y,d[++g]=_,l[v]=1;g>=0;)if(s=d[g--],c=d[g--],u(e[h=d[g--]],e[h+1],e[h+2],e[h+3],h,c,s)){f[o++]=s,f[o++]=c;for(var w=0;w<m.length;w++){var x=h+m[w],T=c+t[w],A=s+r[w];!l[x]&&T>=0&&T<a&&A>=0&&A<n&&(d[++g]=x,d[++g]=T,d[++g]=A,l[x]=1)}}if(o>=k){var E=this.calculateDimensions_(f,o);E&&(E.color=i,p.push(E))}}return this.mergeRectangles_(p)},tracking.ColorTracker.registerColor("cyan",function(t,r,e){var n=t-0,a=r-255,i=e-255;return r-t>=50&&e-t>=70||n*n+a*a+i*i<6400}),tracking.ColorTracker.registerColor("magenta",function(t,r,e){var n=t-255,a=r-0,i=e-255;return t-r>=50&&e-r>=50||n*n+a*a+i*i<19600}),tracking.ColorTracker.registerColor("yellow",function(t,r,e){var n=t-255,a=r-255,i=e-0;return t-e>=50&&r-e>=50||n*n+a*a+i*i<1e4});var t=new Int32Array([-1,-1,0,1,1,1,0,-1]),r=new Int32Array([0,1,1,1,0,-1,-1,-1])}(),tracking.ObjectTracker=function(t){tracking.ObjectTracker.base(this,"constructor"),t&&(Array.isArray(t)||(t=[t]),Array.isArray(t)&&t.forEach(function(r,e){if("string"==typeof r&&(t[e]=tracking.ViolaJones.classifiers[r]),!t[e])throw new Error('Object classifier not valid, try `new tracking.ObjectTracker("face")`.')})),this.setClassifiers(t)},tracking.inherits(tracking.ObjectTracker,tracking.Tracker),tracking.ObjectTracker.prototype.edgesDensity=.2,tracking.ObjectTracker.prototype.initialScale=1,tracking.ObjectTracker.prototype.scaleFactor=1.25,tracking.ObjectTracker.prototype.stepSize=1.5,tracking.ObjectTracker.prototype.getClassifiers=function(){return this.classifiers},tracking.ObjectTracker.prototype.getEdgesDensity=function(){return this.edgesDensity},tracking.ObjectTracker.prototype.getInitialScale=function(){return this.initialScale},tracking.ObjectTracker.prototype.getScaleFactor=function(){return this.scaleFactor},tracking.ObjectTracker.prototype.getStepSize=function(){return this.stepSize},tracking.ObjectTracker.prototype.track=function(t,r,e){var n=this,a=this.getClassifiers();if(!a)throw new Error('Object classifier not specified, try `new tracking.ObjectTracker("face")`.');var i=[];a.forEach(function(a){i=i.concat(tracking.ViolaJones.detect(t,r,e,n.getInitialScale(),n.getScaleFactor(),n.getStepSize(),n.getEdgesDensity(),a))}),this.emit("track",{data:i})},tracking.ObjectTracker.prototype.setClassifiers=function(t){this.classifiers=t},tracking.ObjectTracker.prototype.setEdgesDensity=function(t){this.edgesDensity=t},tracking.ObjectTracker.prototype.setInitialScale=function(t){this.initialScale=t},tracking.ObjectTracker.prototype.setScaleFactor=function(t){this.scaleFactor=t},tracking.ObjectTracker.prototype.setStepSize=function(t){this.stepSize=t},tracking.LandmarksTracker=function(){tracking.LandmarksTracker.base(this,"constructor")},tracking.inherits(tracking.LandmarksTracker,tracking.ObjectTracker),tracking.LandmarksTracker.prototype.track=function(t,r,e){var n=tracking.ViolaJones.classifiers.face,a=tracking.ViolaJones.detect(t,r,e,this.getInitialScale(),this.getScaleFactor(),this.getStepSize(),this.getEdgesDensity(),n),i=tracking.LBF.align(t,r,e,a);this.emit("track",{data:{faces:a,landmarks:i}})},tracking.LBF={},tracking.LBF.Regressor=function(t){this.maxNumStages=t,this.rfs=new Array(t),this.models=new Array(t);for(var r=0;r<t;r++)this.rfs[r]=new tracking.LBF.RandomForest(r),this.models[r]=tracking.LBF.RegressorData[r].models;this.meanShape=tracking.LBF.LandmarksData},tracking.LBF.Regressor.prototype.predict=function(t,r,e,n){var a=[],i=[],o=[],c=tracking.Matrix.clone(this.meanShape);a.push({data:t,width:r,height:e}),o.push(n),i.push(tracking.LBF.projectShapeToBoundingBox_(c,n));for(var s=0;s<this.maxNumStages;s++){var h=tracking.LBF.Regressor.deriveBinaryFeat(this.rfs[s],a,i,o,c);this.applyGlobalPrediction(h,this.models[s],i,o)}return i[0]},tracking.LBF.Regressor.prototype.applyGlobalPrediction=function(t,r,e,n){for(var a=2*e[0].length,i=new Array(a/2),o=0;o<a/2;o++)i[o]=[0,0];for(o=0;o<e.length;o++){for(var c=0;c<a;c++){for(var s=0,h=0,g=0;-1!=(g=t[o][h].index);h++)g<=r[c].nr_feature&&(s+=r[c].data[g-1]*t[o][h].value);c<a/2?i[c][0]=s:i[c-a/2][1]=s}var u=tracking.LBF.similarityTransform_(tracking.LBF.unprojectShapeToBoundingBox_(e[o],n[o]),this.meanShape),f=(tracking.Matrix.transpose(u[0]),tracking.LBF.unprojectShapeToBoundingBox_(e[o],n[o]));f=tracking.Matrix.add(f,i),e[o]=tracking.LBF.projectShapeToBoundingBox_(f,n[o])}},tracking.LBF.Regressor.deriveBinaryFeat=function(t,r,e,n,a){for(var i=new Array(r.length),o=0;o<r.length;o++){var c=t.maxNumTrees*t.landmarkNum+1;i[o]=new Array(c);for(var s=0;s<c;s++)i[o][s]={}}var h=1<<t.maxDepth-1;for(o=0;o<r.length;o++){var g=tracking.LBF.unprojectShapeToBoundingBox_(e[o],n[o]),u=tracking.LBF.similarityTransform_(g,a);for(s=0;s<t.landmarkNum;s++)for(var f=0;f<t.maxNumTrees;f++){var l=tracking.LBF.Regressor.getCodeFromTree(t.rfs[s][f],r[o],e[o],n[o],u[0],u[1]),k=s*t.maxNumTrees+f;i[o][k].index=h*k+l,i[o][k].value=1}i[o][t.landmarkNum*t.maxNumTrees].index=-1,i[o][t.landmarkNum*t.maxNumTrees].value=-1}return i},tracking.LBF.Regressor.getCodeFromTree=function(t,r,e,n,a,i){for(var o=0,c=0;;){var s=Math.cos(t.nodes[o].feats[0])*t.nodes[o].feats[2]*t.maxRadioRadius*n.width,h=Math.sin(t.nodes[o].feats[0])*t.nodes[o].feats[2]*t.maxRadioRadius*n.height,g=Math.cos(t.nodes[o].feats[1])*t.nodes[o].feats[3]*t.maxRadioRadius*n.width,u=Math.sin(t.nodes[o].feats[1])*t.nodes[o].feats[3]*t.maxRadioRadius*n.height,f=a[0][0]*s+a[0][1]*h,l=a[1][0]*s+a[1][1]*h,k=Math.floor(f+e[t.landmarkID][0]),m=Math.floor(l+e[t.landmarkID][1]);k=Math.max(0,Math.min(k,r.height-1)),m=Math.max(0,Math.min(m,r.width-1));var d=a[0][0]*g+a[0][1]*u,p=a[1][0]*g+a[1][1]*u,v=Math.floor(d+e[t.landmarkID][0]),y=Math.floor(p+e[t.landmarkID][1]);if(v=Math.max(0,Math.min(v,r.height-1)),y=Math.max(0,Math.min(y,r.width-1)),o=Math.floor(r.data[m*r.width+k])-Math.floor(r.data[y*r.width+v])<t.nodes[o].thresh?t.nodes[o].cnodes[0]:t.nodes[o].cnodes[1],1==t.nodes[o].is_leafnode){c=1;for(var _=0;_<t.leafnodes.length;_++){if(t.leafnodes[_]==o)return c;c++}return c}}return c},tracking.LBF.maxNumStages=4,tracking.LBF.regressor_=null,tracking.LBF.align=function(t,r,e,n){null==tracking.LBF.regressor_&&(tracking.LBF.regressor_=new tracking.LBF.Regressor(tracking.LBF.maxNumStages)),t=tracking.Image.grayscale(t,r,e,!1),t=tracking.Image.equalizeHist(t,r,e);var a=new Array(n.length);for(var i in n){n[i].height=n[i].width;var o={};o.startX=n[i].x,o.startY=n[i].y,o.width=n[i].width,o.height=n[i].height,a[i]=tracking.LBF.regressor_.predict(t,r,e,o)}return a},tracking.LBF.unprojectShapeToBoundingBox_=function(t,r){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=[(t[n][0]-r.startX)/r.width,(t[n][1]-r.startY)/r.height];return e},tracking.LBF.projectShapeToBoundingBox_=function(t,r){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=[t[n][0]*r.width+r.startX,t[n][1]*r.height+r.startY];return e},tracking.LBF.similarityTransform_=function(t,r){for(var e=[0,0],n=[0,0],a=0;a<t.length;a++)e[0]+=t[a][0],e[1]+=t[a][1],n[0]+=r[a][0],n[1]+=r[a][1];e[0]/=t.length,e[1]/=t.length,n[0]/=r.length,n[1]/=r.length;var i=tracking.Matrix.clone(t),o=tracking.Matrix.clone(r);for(a=0;a<t.length;a++)i[a][0]-=e[0],i[a][1]-=e[1],o[a][0]-=n[0],o[a][1]-=n[1];var c,s,h=tracking.Matrix.calcCovarMatrix(i);c=h[0],h[1],s=(h=tracking.Matrix.calcCovarMatrix(o))[0],h[1];var g=Math.sqrt(tracking.Matrix.norm(c)),u=Math.sqrt(tracking.Matrix.norm(s)),f=g/u;i=tracking.Matrix.mulScalar(1/g,i),o=tracking.Matrix.mulScalar(1/u,o);var l=0,k=0;for(a=0;a<t.length;a++)l=l+i[a][1]*o[a][0]-i[a][0]*o[a][1],k=k+i[a][0]*o[a][0]+i[a][1]*o[a][1];var m=Math.sqrt(l*l+k*k),d=l/m,p=k/m;return[[[p,-d],[d,p]],f]},tracking.LBF.RandomForest=function(t){this.maxNumTrees=tracking.LBF.RegressorData[t].max_numtrees,this.landmarkNum=tracking.LBF.RegressorData[t].num_landmark,this.maxDepth=tracking.LBF.RegressorData[t].max_depth,this.stages=tracking.LBF.RegressorData[t].stages,this.rfs=new Array(this.landmarkNum);for(var r=0;r<this.landmarkNum;r++){this.rfs[r]=new Array(this.maxNumTrees);for(var e=0;e<this.maxNumTrees;e++)this.rfs[r][e]=new tracking.LBF.Tree(t,r,e)}},tracking.LBF.Tree=function(t,r,e){var n=tracking.LBF.RegressorData[t].landmarks[r][e];this.maxDepth=n.max_depth,this.maxNumNodes=n.max_numnodes,this.nodes=n.nodes,this.landmarkID=n.landmark_id,this.numLeafnodes=n.num_leafnodes,this.numNodes=n.num_nodes,this.maxNumFeats=n.max_numfeats,this.maxRadioRadius=n.max_radio_radius,this.leafnodes=n.id_leafnodes},t.exports=tracking},275:function(t,r,e){"use strict";e.r(r),e.d(r,"processFrame",function(){return Z});var n=e(0),a=e(2),i=e(11),o=e(188),c=e.n(o),s=e(185),h=e(38);function g(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,r,e,n,a,i,o){try{var c=t[i](o),s=c.value}catch(t){return void e(t)}c.done?r(s):Promise.resolve(s).then(n,a)}function l(t){return function(){var r=this,e=arguments;return new Promise(function(n,a){var i=t.apply(r,e);function o(t){f(i,n,a,o,c,"next",t)}function c(t){f(i,n,a,o,c,"throw",t)}o(void 0)})}}var k=Object(i.a)(),m=140,d=50,p=.33,v=1.6,y=10,_=5,w=60,x=120,T=5,A="",E=!1,M=new s.a({inputSize:224,scoreThreshold:.5}),S=document.createElement("canvas"),I=document.createElement("canvas"),D={ranOnce:!1},C=90;n.a.on("ORIENTATION_AXIS_CHANGE",function(t){C=t});var O=S.getContext("2d"),N=I.getContext("2d"),F={},b=!1,L=new ImageData(10,10),R=0,B=0,P=0,U="",j="",H=0,V={MISNAP_HEAD_TOO_CLOSE:0,MISNAP_HEAD_OUTSIDE:0,MISNAP_STAY_STILL:0,MISNAP_AXIS_ANGLE:0,MISNAP_HEAD_SKEWED:0,MISNAP_HEAD_TOO_FAR:0,NO_FACE_FOUND:0};function G(t,r,e){return new Promise(function(n){setTimeout(function(){I.width=r,I.height=e,N.save(),N.clearRect(0,0,I.width/4,I.height),N.translate(I.width/2,I.height/2),N.rotate(t*Math.PI/180),N.drawImage(S,-I.width/2,-I.height/2),N.translate(-I.width/2,-I.height/2),N.restore(),n(I)},10)})}function W(){return(W=l(regeneratorRuntime.mark(function t(r,e){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,S.width=r.imageData.width,S.height=r.imageData.height,O.putImageData(r.imageData,0,0),"MANUAL_CAPTURE"!==e){t.next=26;break}return s.f.setBackend("cpu"),a=r.imageData.width>r.imageData.height,t.next=9,s.b(S,M).withFaceLandmarks(!0).withFaceExpressions();case 9:if(n=t.sent,!X(n)){t.next=14;break}return t.abrupt("return",new Promise(function(t,r){setTimeout(function(){t(n)},50)}));case 14:if(!0!==a){t.next=19;break}return t.next=17,G(-90,r.imageData.width,r.imageData.height);case 17:t.next=20;break;case 19:I=S;case 20:return t.next=22,s.b(I,M).withFaceLandmarks(!0).withFaceExpressions();case 22:return n=t.sent,t.abrupt("return",new Promise(function(t,r){setTimeout(function(){t(n)},50)}));case 24:t.next=31;break;case 26:return s.f.setBackend("webgl"),t.next=29,s.b(S,M).withFaceLandmarks(!0).withFaceExpressions();case 29:return n=t.sent,t.abrupt("return",new Promise(function(t,r){setTimeout(function(){t(n)},50)}));case 31:case"end":return t.stop()}},t)}))).apply(this,arguments)}function z(){return(z=l(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.tinyFaceDetector.load(h.a.getPublicWP());case 2:return t.next=4,s.c(h.a.getPublicWP());case 4:return t.next=6,s.d(h.a.getPublicWP());case 6:return t.abrupt("return",!0);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}var J,q=(J={x:0,y:0},function(t){var r=0==J.x?t._x:J.x,e=t._x,n=0==J.y?t._y:J.y,a=t._y,i=Math.abs(e-r),o=Math.abs(a-n);return J.x=t._x,J.y=t._y,i>50||o>50});function K(t){if(!(t&&t.getNose()&&t.getLeftEye()&&t.getRightEye()))return!1;var r=t.getMouth()[0]._x-t.getJawOutline()[4]._x,e=t.getJawOutline()[12]._x-t.getMouth()[6]._x,n=t.getLeftEyeBrow()[0]._x-t.getJawOutline()[0]._x,a=t.getJawOutline()[16]._x-t.getRightEyeBrow()[4]._x;return n<_||a<_||r<y||e<y}var Y=function(t){var r,e,n,i=t.faceDetectionWithBox,o=i.expressions.asSortedArray()[0].expression,c=u(i.detection.box)?i.detection.box:i.detectionResult.box,s={type:"MISNAP_HEAD_OUTSIDE",storeFrame:!1,detectionBox:c},h=(e=F,(r=c)._x+m>e.x&&r._x+r._width<e.x+e.width+m&&r._y+d>e.y&&r._y+r._height<e.y+e.height+d);if(function(t,r){return t.width*t.height/(r.width*r.height)>v}(c,F))return V.MISNAP_HEAD_TOO_CLOSE+=1,s.type="MISNAP_HEAD_TOO_CLOSE",s;if(h){if(Object(a.c)()&&!1===b&&((n=C)<w||n>x))return V.MISNAP_AXIS_ANGLE+=1,s.type="MISNAP_AXIS_ANGLE",s;if(q(c))return V.MISNAP_STAY_STILL+=1,s.type="MISNAP_STAY_STILL",s;if(K(i.landmarks))return V.MISNAP_HEAD_SKEWED+=1,s.type="MISNAP_HEAD_SKEWED",s;if(function(t,r){return t.width*t.height/(r.width*r.height)<p}(c,F))return V.MISNAP_HEAD_TOO_FAR+=1,s.type="MISNAP_HEAD_TOO_FAR",s;var g="neutral"===o||"sad"===o;return R="happy"===o||"surprised"===o?R+1:R,s.storeFrame=g,R>1&&""===U&&(U=!0),""!==j&&""!==U?(R=0,B=0,U="",j="",s.type="MISNAP_SUCCESS",s):""===j&&""!==U?(s.type="MISNAP_STOP_SMILING",s):""===U?(s.type="MISNAP_SMILE",s):(s.type="MISNAP_READY_POSE",s)}return V.MISNAP_HEAD_OUTSIDE+=1,s.type="MISNAP_HEAD_OUTSIDE",s},X=function(t){return void 0!==t&&t},Q=null,Z=function(t){A=t.captureMode,function(t,r){return W.apply(this,arguments)}(t,A).then(function(t){return X(t)}).then(function(t){return!!(!1!==(r=t)&&r.hasOwnProperty("box")||r.hasOwnProperty("detection"))&&r;var r}).then(function(r){if(!1===r){if("MANUAL_CAPTURE"===A)return E=!0,D.resultCallback({warnings:{status:"failure",code:"NF",key:"NO_FACE_FOUND",score:0},imageData:t.imageData}),!1;V.NO_FACE_FOUND+=1,(H+=1)>=5&&(Q="NO_FACE_FOUND",H=0)}else H=0;return!1!==r&&r}).then(function(r){return"MANUAL_CAPTURE"!==A?Object(a.e)(r)?(H=0,Y({faceDetectionWithBox:r})):((H+=1)>=5&&(H=0),{type:"NO_FACE_FOUND"}):Object(a.e)(r)?(r.imageHeight=t.imageData.height,r.imageWidth=t.imageData.width,(e={faceDetectionWithBox:r}.faceDetectionWithBox).expressions.asSortedArray()[0].expression,n=u(e.detection.box)?e.detection.box:e.detectionResult.box,i={type:"MISNAP_SUCCESS",storeFrame:!1,detectionBox:n},n.height/e.imageHeight>.7?(V.MISNAP_HEAD_TOO_CLOSE+=1,i.type="MISNAP_HEAD_TOO_CLOSE",i):K(e.landmarks)?(V.MISNAP_HEAD_SKEWED+=1,i.type="MISNAP_HEAD_SKEWED",i):n.height/e.imageHeight<.3?(V.MISNAP_HEAD_TOO_FAR+=1,i.type="MISNAP_HEAD_TOO_FAR",i):i):!1===E?(D.resultCallback({warnings:{status:"failure",code:"NF",key:"NO_FACE_FOUND",score:0},imageData:t.imageData}),!1):void 0;var e,n,i}).then(function(r){if("MANUAL_CAPTURE"===A&&(L=t.imageData),!0===r.storeFrame){(B+=1)>=3&&(j=!0);var e=function(t,r){c.a.Fast.THRESHOLD=T;var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.putImageData(t,0,0);var a=n.getImageData(r._x,r._y,r.width,r.height),i=c.a.Image.grayscale(a.data,a.width,a.height);return c.a.Fast.findCorners(i,a.width,a.height).length}(t.imageData,r.detectionBox);e>P&&(P=e,L=t.imageData,n.a.emit("LOG_MIBI_EVENT",{eventName:k.MitekMibiAction.AUTOCAPTURE_FAST_SCORE,eventValues:e}))}"MISNAP_SUCCESS"===r.type?(n.a.emit("LOG_MIBI_EVENT",{eventName:k.MitekMibiAction.FACE_FAILURE_COUNT,eventValues:V}),D.resultCallback({warnings:{status:"success"},imageData:L}),L=""):(n.a.emit("LOG_MIBI_EVENT",{eventName:k.MitekMibiAction.FACE_FAILURE_COUNT,eventValues:V}),D.resultCallback({imageData:L,warnings:{code:Q,status:"failure",key:r.type,score:null}}))}).catch(function(t){})},$=function(t){if(F=t,t.width>t.height){b=!0;var r=F.x+.3*F.width,e=F.x+.7*F.width-r;F.x=r,F.width=e}else b=!1},tt=function(){return n.a.removeListener("INNER_GUIDE_CHANGE",$)};r.default=function(t){var r=null;return D=function(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{},n=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.forEach(function(r){g(t,r,e[r])})}return t}({},t,{ranOnce:!0}),new Promise(function(t,e){L=new ImageData(10,10),R=0,B=0,P=0,U="",j="",H=0,V.MISNAP_HEAD_TOO_CLOSE=0,V.MISNAP_HEAD_OUTSIDE=0,V.MISNAP_STAY_STILL=0,V.MISNAP_AXIS_ANGLE=0,V.MISNAP_HEAD_SKEWED=0,V.MISNAP_HEAD_TOO_FAR=0,V.NO_FACE_FOUND=0,function(){return z.apply(this,arguments)}().then(function(e){r=setInterval(function(){!0===s.e.tinyFaceDetector.isLoaded&&!0===s.e.faceExpressionNet.isLoaded&&!0===s.e.faceLandmark68TinyNet.isLoaded&&(clearInterval(r),n.a.on("INNER_GUIDE_CHANGE",$),n.a.on("SDK_STOP",tt),n.a.on("SDK_ERROR",tt),n.a.on("FRAME_CAPTURE_RESULT",tt),t({msg:"ready"}))},50)}).catch(function(t){})})}}}]);